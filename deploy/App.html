<!DOCTYPE html>
<html>
<head>
    <title>DefectGridProdVsTest</title>

    <script type="text/javascript" src="/apps/2.0rc1/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("DefectGridApp",{extend:"Rally.app.App",componentCls:"app",launch:function(){var dataScope=this.getContext().getDataContext(),chart=Ext.create("Rally.ui.chart.Chart",{});Ext.create("Rally.data.WsapiDataStore",{model:"Defect",context:dataScope,fetch:["Name","CreationDate"],sorters:[{property:"CreationDate",direction:"ASC"}],pageSize:5,limit:5,autoLoad:!0,listeners:{load:this._onDataLoaded,scope:this}})},_onDataLoaded:function(store,data){var records=[],date;Ext.Array.each(data,function(record){date=record.get("CreationDate").getFullYear()+" "+record.get("CreationDate").getMonth(),records.push({Name:record.get("Name"),CreationDate:date})}),console.log(records),series=_.groupBy(records,function(record){return record.CreationDate}),console.log(series)}});

            Rally.launchApp('DefectGridApp', {
                name:"DefectGridProdVsTest",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        .app {
     /* Add app styles here */
}

    </style>
</head>
<body></body>
</html>
